# OpenStack

1. NHN Cloud m2.c4m8 환경에서 OpenStack을 설치합니다. ubuntu 24.04 LTS
2. 설치 시 Kolla-Ansible을 사용합니다.

ssh -i openstack.pem ubuntu@133.186.132.232
sudo -i && ./install.sh 192.168.0.92 133.186.132.232

## 🛡️ 방화벽 포트 설정 (Security Group)

다음 포트들을 인바운드 규칙(Inbound Rules)에 추가해야 합니다.

### 필수 포트 (기본 운영 및 접속)

| 서비스         | 포트    | 프로토콜 | 설명                   |
| :------------- | :------ | :------- | :--------------------- |
| **SSH**        | 22      | TCP      | 서버 원격 접속         |
| **Horizon**    | 80, 443 | TCP      | 웹 대시보드 (SSL 포함) |
| **Nova NoVNC** | 6080    | TCP      | 인스턴스 VNC 콘솔 접속 |

### API 서비스 포트 (외부 제어 필요 시)

| 서비스        | 포트 | 프로토콜 | 설명                 |
| :------------ | :--- | :------- | :------------------- |
| **Keystone**  | 5000 | TCP      | 인증/Identity 서비스 |
| **Glance**    | 9292 | TCP      | 이미지 서비스        |
| **Nova**      | 8774 | TCP      | 컴퓨트 서비스        |
| **Placement** | 8778 | TCP      | 자원 배치 서비스     |
| **Neutron**   | 9696 | TCP      | 네트워크 서비스      |
| **Cinder**    | 8776 | TCP      | 블록 스토리지 서비스 |

### 🖥️ 인스턴스(VM) 통신 포트

생성된 인스턴스와 통신하기 위해 필요한 포트입니다. (Floating IP 사용 시)

| 서비스   | 포트 | 프로토콜 | 설명                           |
| :------- | :--- | :------- | :----------------------------- |
| **SSH**  | 22   | TCP      | 리눅스 VM 접속                 |
| **RDP**  | 3389 | TCP/UDP  | 윈도우 VM 접속                 |
| **ICMP** | All  | ICMP     | Ping 테스트 및 네트워크 진단   |
| **DNS**  | 53   | TCP/UDP  | VM 외부 도메인 확인 (Outbound) |

> ⚠️ **주의**: 3306(MariaDB), 5672(RabbitMQ), 11211(Memcached) 등은 OpenStack 내부 컴포넌트 간 통신용이므로 보안상 **외부 접속을 차단**해야 합니다.
